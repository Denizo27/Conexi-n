<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido</title>
</head>
<body>
    <h1>Ingresar pedido</h1>
    <form id="pedido">
        <input type="text" id="nombre" placeholder="Ingresar el nombre">
        <input type="text" id="apellido" placeholder="Ingresar el apellido">
        <button type="submit">Agregar</button>
    </form>

    <h2>Lista de Pedidos</h2>
    <ul id="lista-pedido"></ul>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        // ConfiguraciÃ³n de Firebase
        const firebaseConfig = {
            apiKey: "Tu-API-Key",
            authDomain: "Tu-Dominio.firebaseapp.com",
            projectId: "Tu-Proyecto-ID",
            storageBucket: "Tu-Proyecto.appspot.com",
            messagingSenderId: "Tu-Sender-ID",
            appId: "Tu-ID-de-App"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const listaPedido = document.getElementById("lista-pedido");

        function renderPedido(querySnapshot) {
            listaPedido.innerHTML = "";
            querySnapshot.forEach(doc => {
                const cliente = doc.data();
                const li = document.createElement("li");
                li.textContent = `${cliente.nombre} - ${cliente.apellido}`;
                listaPedido.appendChild(li);
            });
        }

        onSnapshot(collection(db, "pedido"), renderPedido);

        const pedidoForm = document.getElementById("pedido");
        pedidoForm.addEventListener("submit", async(e) => {
            e.preventDefault();
            await addDoc(collection(db, "pedido"), {
                nombre: pedidoForm.nombre.value,
                apellido: pedidoForm.apellido.value
            });
            pedidoForm.reset();
        });
    </script>
</body>
</html>

